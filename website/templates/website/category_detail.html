{% extends 'base.html' %}
{% load i18n %}


{% block title %}{{ category.title }}{% endblock %}

{% block content %}
<style>
	.cat-detail-hero {
		position: relative;
		height: 220px;
		border-radius: 20px;
		overflow: hidden;
		margin-bottom: 2.5rem;
		box-shadow: 0 4px 32px 0 rgba(34,40,49,0.10);
		background: #232b3e;
		border: 1.5px solid #e3e6ea;
	}
	.cat-detail-hero-bg {
		position: absolute;
		inset: 0;
		width: 100%;
		height: 100%;
		object-fit: cover;
		opacity: 0.28;
		z-index: 1;
		transition: opacity 0.3s;
	}
	.cat-detail-hero .cat-detail-title {
		position: absolute;
		top: 50%;
		left: 50%;
		transform: translate(-50%, -50%);
		color: #fff;
		font-size: 2.3rem;
		font-weight: 700;
		text-shadow: 0 2px 16px rgba(0,0,0,0.32);
		z-index: 2;
		letter-spacing: 1px;
		display: flex;
		align-items: center;
		gap: 0.7rem;
	}
	.cat-detail-hero .cat-detail-title svg {
		opacity: 0.85;
	}
	.cat-detail-content {
		background: linear-gradient(120deg, #e3eafc 0%, #f5f7fa 60%, #cfd2d6 100%);
		border-radius: 16px;
		box-shadow: 0 2px 8px 0 rgba(60, 60, 60, 0.04);
		padding: 2.2rem 2rem 2rem 2rem;
		margin-bottom: 2.5rem;
		min-height: 220px;
		display: flex;
		flex-direction: column;
		justify-content: center;
		animation: fadeInUp 0.7s cubic-bezier(.4,2,.6,1) forwards;
		opacity: 0;
		transform: translateY(24px);
		transition: box-shadow 0.2s;
		border: 1.5px solid #e3e6ea;
	}
	.cat-detail-content.show {
		opacity: 1;
		transform: none;
	}
	.cat-detail-desc {
		font-size: 1.08rem;
		color: #495057;
		margin-bottom: 1.2rem;
		white-space: pre-line;
	}
	.cat-detail-img {
		max-height: 420px;
		width: 100%;
		border-radius: 16px;
		box-shadow: 0 2px 16px 0 rgba(34,40,49,0.10);
		margin: 0 auto;
		display: block;
		background: #f8f9fa;
		object-fit: cover;
		border: 1.5px solid #e3e6ea;
	}
	.cat-detail-btn {
		margin-top: 1.2rem;
		font-size: 1rem;
		padding: 0.42rem 1.25rem;
		border-radius: 9px;
		font-weight: 600;
		background: linear-gradient(90deg, #e3e6ea 0%, #adb5bd 100%);
		color: #232b3e;
		border: none;
		box-shadow: 0 2px 8px 0 rgba(60,60,60,0.07);
		transition: background 0.2s, color 0.2s, box-shadow 0.2s;
		text-transform: uppercase;
		letter-spacing: 1px;
	}
	.cat-detail-btn:hover {
		background: linear-gradient(90deg, #232b3e 0%, #495057 100%);
		color: #fff;
		box-shadow: 0 4px 16px 0 rgba(34,40,49,0.13);
	}
</style>
<div class="container py-4">
	<!-- Верхний блок с фоном и заголовком -->
	<div class="cat-detail-hero fade-in">
		<img src="{{ category.background_image.url }}" alt="{{ category.title }}" class="cat-detail-hero-bg" />
		<div class="cat-detail-title">
			<svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" fill="#fff" class="bi bi-award" viewBox="0 0 16 16">
				<path d="M9.669.864 8 0 6.331.864 5.135 2.331l-1.664.25-.25 1.664L0 8l.864 1.669 1.467 1.196.25 1.664 1.664.25L8 16l1.669-.864 1.196-1.467 1.664-.25.25-1.664L16 8l-.864-1.669-1.467-1.196-.25-1.664-1.664-.25L9.669.864zM8 15l-1.528-.791-1.196-1.467-1.664-.25-.25-1.664L1 8l.791-1.528.25-1.664 1.664-.25 1.196-1.467L8 1l1.528.791 1.196 1.467 1.664.25.25 1.664L15 8l-.791 1.528-.25 1.664-1.664.25-1.196 1.467L8 15z"/>
				<path d="M8 5.5a2.5 2.5 0 1 0 0 5 2.5 2.5 0 0 0 0-5zM5.5 8a2.5 2.5 0 1 1 5 0 2.5 2.5 0 0 1-5 0z"/>
			</svg>
		{{ category.title }}
		</div>
	</div>
	<!-- Описание и изображение -->
	<div class="row align-items-center">
		<div class="col-md-7">
			<div class="cat-detail-content" id="cat-detail-content">
						<div class="cat-detail-desc">{{ category.description }}</div>
						<a href="{% url 'website:category-list' %}" class="btn cat-detail-btn">
							<svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" fill="#232b3e" class="bi bi-arrow-left" viewBox="0 0 16 16" style="margin-bottom:2px;">
								<path fill-rule="evenodd" d="M15 8a.5.5 0 0 1-.5.5H2.707l3.147 3.146a.5.5 0 0 1-.708.708l-4-4a.5.5 0 0 1 0-.708l4-4a.5.5 0 1 1 .708.708L2.707 7.5H14.5A.5.5 0 0 1 15 8z"/>
							</svg>
							{% trans "Back to all services" %}
						</a>
			</div>
		</div>
		<div class="col-md-5 text-center mt-4 mt-md-0">
			{% if category.image %}
				<img src="{{ category.image.url }}" alt="{{ category.title }}" class="img-fluid cat-detail-img fade-in" style="max-width:100%;">
			{% endif %}
		</div>
	</div>
</div>
<script>
	// Плавное появление блока описания
	window.addEventListener('DOMContentLoaded', function() {
		setTimeout(function() {
			document.getElementById('cat-detail-content').classList.add('show');
		}, 200);
	});
</script>
{% endblock %}